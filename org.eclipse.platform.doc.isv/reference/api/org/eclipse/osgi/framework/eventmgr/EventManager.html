<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Wed Feb 04 10:04:24 EST 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="iso-8859-1">
<title>EventManager (Eclipse Platform API Specification)</title>
<meta name="date" content="2015-02-04">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="EventManager (Eclipse Platform API Specification)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EventManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><span style='font-size:small'><b>Eclipse Platform</b><br>Luna (4.4)</span></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/eclipse/osgi/framework/eventmgr/EventListeners.html" title="class in org.eclipse.osgi.framework.eventmgr"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/eclipse/osgi/framework/eventmgr/ListenerQueue.html" title="class in org.eclipse.osgi.framework.eventmgr"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/osgi/framework/eventmgr/EventManager.html" target="_top">Frames</a></li>
<li><a href="EventManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.eclipse.osgi.framework.eventmgr</div>
<h2 title="Class EventManager" class="title">Class EventManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.eclipse.osgi.framework.eventmgr.EventManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">EventManager</span>
extends <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class is the central class for the Event Manager. Each
 program that wishes to use the Event Manager should construct
 an EventManager object and use that object to construct
 ListenerQueue for dispatching events. CopyOnWriteIdentityMap objects
 must be used to manage listener lists.

 <p>This example uses the fictitious SomeEvent class and shows how to use this package 
 to deliver a SomeEvent to a set of SomeEventListeners.  
 <pre>

        // Create an EventManager with a name for an asynchronous event dispatch thread
        EventManager eventManager = new EventManager("SomeEvent Async Event Dispatcher Thread");
        // Create a CopyOnWriteIdentityMap to hold the list of SomeEventListeners
        Map eventListeners = new CopyOnWriteIdentityMap();

        // Add a SomeEventListener to the listener list
        eventListeners.put(someEventListener, null);

        // Asynchronously deliver a SomeEvent to registered SomeEventListeners
        // Create the listener queue for this event delivery
        ListenerQueue listenerQueue = new ListenerQueue(eventManager);
        // Add the listeners to the queue and associate them with the event dispatcher
        listenerQueue.queueListeners(eventListeners.entrySet(), new EventDispatcher() {
                public void dispatchEvent(Object eventListener, Object listenerObject, 
                                    int eventAction, Object eventObject) {
                        try {
                                (SomeEventListener)eventListener.someEventOccured((SomeEvent)eventObject);
                        } catch (Throwable t) {
                                // properly log/handle any Throwable thrown by the listener
                        }
                }
        });
        // Deliver the event to the listeners. 
        listenerQueue.dispatchEventAsynchronous(0, new SomeEvent());
                
        // Remove the listener from the listener list
        eventListeners.remove(someEventListener);

        // Close EventManager to clean when done to terminate async event dispatch thread.
        // Note that closing the event manager while asynchronously delivering events 
        // may cause some events to not be delivered before the async event dispatch 
        // thread terminates
        eventManager.close();
 </pre>
 
 <p>At first glance, this package may seem more complicated than necessary
 but it has support for some important features. The listener list supports
 companion objects for each listener object. This is used by the OSGi framework
 to create wrapper objects for a listener which are passed to the event dispatcher.
 The ListenerQueue class is used to build a snap shot of the listeners prior to beginning
 event dispatch. 
 
 The OSGi framework uses a 2 level listener list for each listener type (4 types). 
 Level one is managed per framework instance and contains the list of BundleContexts which have 
 registered a listener. Level 2 is managed per BundleContext for the listeners in that 
 context. This allows all the listeners of a bundle to be easily and atomically removed from 
 the level one list. To use a "flat" list for all bundles would require the list to know which 
 bundle registered a listener object so that the list could be traversed when stopping a bundle 
 to remove all the bundle's listeners. 
 
 When an event is fired, a snapshot list (ListenerQueue) must be made of the current listeners before delivery 
 is attempted. The snapshot list is necessary to allow the listener list to be modified while the 
 event is being delivered to the snapshot list. The memory cost of the snapshot list is
 low since the ListenerQueue object uses the copy-on-write semantics 
 of the CopyOnWriteIdentityMap. This guarantees the snapshot list is never modified once created.
 
 The OSGi framework also uses a 2 level dispatch technique (EventDispatcher).
 Level one dispatch is used by the framework to add the level 2 listener list of each 
 BundleContext to the snapshot in preparation for delivery of the event.
 Level 2 dispatch is used as the final event deliverer and must cast the listener 
 and event objects to the proper type before calling the listener. Level 2 dispatch
 will cancel delivery of an event 
 to a bundle that has stopped between the time the snapshot was created and the
 attempt was made to deliver the event.
 
 <p> The highly dynamic nature of the OSGi framework had necessitated these features for 
 proper and efficient event delivery.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>3.1</dd>
<dt><span class="strong">Restriction:</span></dt>
  <dd>This class is not intended to be subclassed by clients.</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/7/docs/api/java/lang/ThreadGroup.html?is-external=true" title="class or interface in java.lang">ThreadGroup</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/osgi/framework/eventmgr/EventManager.html#threadGroup">threadGroup</a></strong></code>
<div class="block">The thread group used for asynchronous event delivery</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/osgi/framework/eventmgr/EventManager.html#threadName">threadName</a></strong></code>
<div class="block">Thread name used for asynchronous event delivery</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/eclipse/osgi/framework/eventmgr/EventManager.html#EventManager()">EventManager</a></strong>()</code>
<div class="block">EventManager constructor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../org/eclipse/osgi/framework/eventmgr/EventManager.html#EventManager(java.lang.String)">EventManager</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;threadName)</code>
<div class="block">EventManager constructor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/eclipse/osgi/framework/eventmgr/EventManager.html#EventManager(java.lang.String, java.lang.ThreadGroup)">EventManager</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;threadName,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/ThreadGroup.html?is-external=true" title="class or interface in java.lang">ThreadGroup</a>&nbsp;threadGroup)</code>
<div class="block">EventManager constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/eclipse/osgi/framework/eventmgr/EventManager.html#close()">close</a></strong>()</code>
<div class="block">This method can be called to release any resources associated with this
 EventManager.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="threadName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>threadName</h4>
<pre>protected final&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> threadName</pre>
<div class="block">Thread name used for asynchronous event delivery</div>
</li>
</ul>
<a name="threadGroup">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>threadGroup</h4>
<pre>protected final&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/ThreadGroup.html?is-external=true" title="class or interface in java.lang">ThreadGroup</a> threadGroup</pre>
<div class="block">The thread group used for asynchronous event delivery</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EventManager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EventManager</h4>
<pre>public&nbsp;EventManager()</pre>
<div class="block">EventManager constructor. An EventManager object is responsible for
 the delivery of events to listeners via an EventDispatcher.</div>
</li>
</ul>
<a name="EventManager(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EventManager</h4>
<pre>public&nbsp;EventManager(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;threadName)</pre>
<div class="block">EventManager constructor. An EventManager object is responsible for
 the delivery of events to listeners via an EventDispatcher.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>threadName</code> - The name to give the event thread associated with
 this EventManager.  A <code>null</code> value is allowed.</dd></dl>
</li>
</ul>
<a name="EventManager(java.lang.String, java.lang.ThreadGroup)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EventManager</h4>
<pre>public&nbsp;EventManager(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;threadName,
            <a href="http://download.oracle.com/javase/7/docs/api/java/lang/ThreadGroup.html?is-external=true" title="class or interface in java.lang">ThreadGroup</a>&nbsp;threadGroup)</pre>
<div class="block">EventManager constructor. An EventManager object is responsible for
 the delivery of events to listeners via an EventDispatcher.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>threadName</code> - The name to give the event thread associated with
 this EventManager.  A <code>null</code> value is allowed.</dd><dd><code>threadGroup</code> - The thread group to use for the asynchronous event
 thread associated with this EventManager. A <code>null</code> value is allowed.</dd><dt><span class="strong">Since:</span></dt>
  <dd>3.4</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="close()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<div class="block">This method can be called to release any resources associated with this
 EventManager.
 <p>
 Closing this EventManager while it is asynchronously delivering events 
 may cause some events to not be delivered before the async event dispatch 
 thread terminates.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EventManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><span style='font-size:small'><b>Eclipse Platform</b><br>Luna (4.4)</span></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/eclipse/osgi/framework/eventmgr/EventListeners.html" title="class in org.eclipse.osgi.framework.eventmgr"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/eclipse/osgi/framework/eventmgr/ListenerQueue.html" title="class in org.eclipse.osgi.framework.eventmgr"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/osgi/framework/eventmgr/EventManager.html" target="_top">Frames</a></li>
<li><a href="EventManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><br><span style='font-size:small;float:right'>Copyright (c) 2000, 2014 Eclipse Contributors and others. All rights reserved.</span><span style='font-size:small'><a href='../../../../../../misc/api-usage-rules.html'>Guidelines for using Eclipse APIs.</a></span></small></p>
</body>
</html>
